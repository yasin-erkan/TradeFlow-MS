<div align="center">

# TradeFlow-MS

**Security-first microservices platform for scalable e-commerce systems**

[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.5.0-6DB33F?style=flat-square&logo=springboot&logoColor=white)](https://spring.io)
[![Spring Cloud](https://img.shields.io/badge/Spring%20Cloud-2025.0.1-6DB33F?style=flat-square&logo=spring&logoColor=white)](https://spring.io)
[![Java](https://img.shields.io/badge/Java-17%20|%2021-ED8B00?style=flat-square&logo=openjdk&logoColor=white)](https://openjdk.org)
[![Docker](https://img.shields.io/badge/Docker-2496ED?style=flat-square&logo=docker&logoColor=white)](https://docker.com)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-316192?style=flat-square&logo=postgresql&logoColor=white)](https://postgresql.org)
[![MongoDB](https://img.shields.io/badge/MongoDB-47A248?style=flat-square&logo=mongodb&logoColor=white)](https://mongodb.com)
[![Kafka](https://img.shields.io/badge/Kafka-231F20?style=flat-square&logo=apachekafka&logoColor=white)](https://kafka.apache.org)
[![Keycloak](https://img.shields.io/badge/Keycloak-4D4D4D?style=flat-square&logo=keycloak&logoColor=white)](https://keycloak.org)

</div>

---

## Why TradeFlow-MS?

- üèóÔ∏è **Microservices Architecture** ‚Äî Scalable, independent services with Spring Cloud ecosystem
- ‚ö° **Event-Driven Design** ‚Äî Real-time processing with Apache Kafka messaging
- üé® **Modern Stack** ‚Äî Angular frontend, Spring Boot backend, polyglot persistence

## üõ°Ô∏è Cyber Security & Resilience

TradeFlow-MS is engineered with a **security-first mindset**, implementing enterprise-grade protection at every layer of the architecture.

### Security Architecture

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üåê Client Layer ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ HTTPS/TLS
‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üö™ API Gateway (Security Shield) ‚îÇ
‚îÇ ‚Ä¢ JWT Token Validation ‚Ä¢ Rate Limiting (Planned) ‚îÇ
‚îÇ ‚Ä¢ Request Filtering ‚Ä¢ DDoS Protection (Planned) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ Authenticated Requests
‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üîê Keycloak (Identity Provider) ‚îÇ
‚îÇ ‚Ä¢ OAuth 2.0 / OpenID Connect ‚îÇ
‚îÇ ‚Ä¢ Single Sign-On (SSO) ‚îÇ
‚îÇ ‚Ä¢ Multi-Factor Authentication (MFA) ‚îÇ
‚îÇ ‚Ä¢ Role-Based Access Control (RBAC) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ JWT Tokens
‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üîí Internal Microservices ‚îÇ
‚îÇ ‚Ä¢ Service-to-Service Authentication ‚îÇ
‚îÇ ‚Ä¢ Internal Ports Hidden from External Access ‚îÇ
‚îÇ ‚Ä¢ Encrypted Communication (Planned) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

````

### üîê Security Features

| Layer                  | Feature                              | Status         |
| ---------------------- | ------------------------------------ | -------------- |
| **Authentication**     | Keycloak OAuth 2.0 / OIDC            | ‚úÖ Active      |
| **Authorization**      | Role-Based Access Control (RBAC)     | ‚úÖ Active      |
| **Token Management**   | Secure JWT-based communication       | ‚úÖ Active      |
| **API Protection**     | Gateway as security shield           | üîÑ In Progress |
| **Rate Limiting**      | Request throttling & DDoS protection | üìÖ Planned     |
| **Secrets Management** | HashiCorp Vault integration          | üìÖ Planned     |
| **Service Mesh**       | mTLS service-to-service encryption   | üìÖ Planned     |
| **Audit Logging**      | Security event tracking              | üìÖ Planned     |

### üîë Key Security Principles

1. **Zero Trust Architecture**
   - No implicit trust between services
   - Every request is authenticated and authorized
   - Internal services are not exposed to external networks

2. **Defense in Depth**
   - API Gateway acts as first line of defense
   - Keycloak provides centralized authentication
   - JWT tokens for secure service communication
   - Database credentials managed securely

3. **Least Privilege Access**
   - Services only access resources they need
   - Role-based permissions enforced at every level
   - Secrets never hardcoded or committed to repository

4. **Resilience & Fault Tolerance**
   - Circuit breakers prevent cascade failures
   - Service degradation over complete failure
   - Health checks for proactive monitoring

### üéØ Security Roadmap

- [x] Keycloak integration for centralized authentication
- [x] JWT token-based authorization
- [ ] API Gateway with security policies
- [ ] Rate limiting and request throttling
- [ ] HashiCorp Vault for secrets management
- [ ] Service mesh with mTLS encryption
- [ ] Security scanning in CI/CD pipeline
- [ ] Penetration testing and vulnerability assessment

> **Security Notice:** TradeFlow-MS follows OWASP guidelines and implements industry-standard security practices. Regular security audits and updates are planned for production deployments.

## Quick Start

```bash
# Start infrastructure
docker-compose up -d

# Start Config Server (must run first)
cd services/config-server && ./mvnw spring-boot:run

# Start Discovery Server
cd services/discovery-server && ./mvnw spring-boot:run
````

**Access Points:**

- Config Server: http://localhost:8888
- Discovery Dashboard: http://localhost:8761
- Keycloak Admin: http://localhost:8080

## Infrastructure

| Service          | Container      | Port        | Notes                     |
| ---------------- | -------------- | ----------- | ------------------------- |
| Config Server    | -              | `8888`      | Centralized configuration |
| Discovery Server | -              | `8761`      | Eureka service registry   |
| PostgreSQL       | `tf_postgres`  | `5432`      | Relational database       |
| **MongoDB**      | `tf_mongodb`   | **`50000`** | ‚ö†Ô∏è Custom port mapping    |
| Kafka            | `tf_kafka`     | `9092`      | Message broker            |
| Zookeeper        | `tf_zookeeper` | `2181`      | Kafka coordinator         |
| Keycloak         | `tf_keycloak`  | `8080`      | OAuth 2.0 / OIDC          |

> **‚ö†Ô∏è MongoDB runs on port 50000** (not 27017) ‚Äî use `mongodb://localhost:50000` in your configs

## Architecture

```mermaid
graph LR
    A[Client] --> B[API Gateway]
    B --> C[Auth/Keycloak]
    B --> D[Microservices]
    D --> E[Config Server]
    D --> F[Discovery Server]
    D --> G[(PostgreSQL)]
    D --> H[(MongoDB)]
    D --> I[Kafka]
```

**Core Components:**

- **Config Server** (8888) ‚Äî Spring Cloud Config for externalized configuration
- **Discovery Server** (8761) ‚Äî Netflix Eureka for service registration
- **API Gateway** ‚Äî Route management and load balancing _(planned)_

## Roadmap

### ‚úÖ Phase 1: Infrastructure (Complete)

- [x] Docker infrastructure (PostgreSQL, MongoDB, Kafka, Keycloak)
- [x] Config Server + Discovery Server
- [x] Centralized configuration management

### üîÑ Phase 2: Core Services (In Progress)

- [ ] API Gateway with JWT authentication
- [ ] Monitoring (Prometheus + Grafana)
- [ ] Distributed tracing (Zipkin)

### üìÖ Phase 3: Business Services (Planned)

- [ ] Product Service (catalog, search, inventory)
- [ ] Order Service (cart, checkout, order management)
- [ ] User Service (profiles, authentication)
- [ ] Payment Service (payment gateway integration)
- [ ] Notification Service (email, SMS, push)

### üìÖ Phase 4: Frontend (Planned)

- [ ] Angular web application
- [ ] Admin dashboard
- [ ] Mobile app (React Native)

### üìÖ Phase 5: Production (Planned)

- [ ] CI/CD pipeline
- [ ] Kubernetes deployment
- [ ] Security hardening
- [ ] Performance optimization

**Progress:** Phase 1 complete | Phase 2 at 20%

## Tech Stack

**Backend:** Spring Boot 3.5, Spring Cloud, Java 17/21, Maven  
**Databases:** PostgreSQL (relational), MongoDB (documents)  
**Messaging:** Apache Kafka 7.5  
**Security:** Keycloak (OAuth 2.0, OpenID Connect)  
**Infrastructure:** Docker, Docker Compose  
**Frontend:** Angular _(planned)_

## Development

### Prerequisites

- Java 17 or 21
- Maven 3.8+
- Docker & Docker Compose

### Project Structure

```
TradeFlow-MS/
‚îú‚îÄ‚îÄ docker-compose.yml          # Infrastructure setup
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ config-server/         # Port 8888
‚îÇ   ‚îú‚îÄ‚îÄ discovery-server/      # Port 8761
‚îÇ   ‚îî‚îÄ‚îÄ [future-services]/
‚îî‚îÄ‚îÄ INFRASTRUCTURE.md          # Detailed docs
```

### Configuration

All service configurations stored in: `config-server/src/main/resources/configurations/`

Services connect via `bootstrap.yml`:

```yaml
spring:
  application:
    name: service-name
  cloud:
    config:
      uri: http://localhost:8888
```

## Standards

- ‚úÖ All code, comments, and documentation in **English**
- ‚úÖ Container naming: `tf_` prefix (e.g., `tf_postgres`, `tf_kafka`)
- ‚úÖ Service naming: kebab-case (e.g., `product-service`, `order-service`)
- ‚úÖ Git commits: Conventional commits (`feat:`, `fix:`, `docs:`)

## Troubleshooting

**Config Server not loading configs?**

```bash
# Verify native profile is active and configurations/ folder exists
```

**Discovery Server fails to start?**

```bash
# Ensure Config Server is running first on port 8888
```

**Port conflicts?**

```bash
lsof -i :8888  # Find process on port
kill -9 <PID>  # Kill process
```

**Docker issues?**

```bash
docker-compose down && docker-compose up -d
docker logs tf_kafka  # Check container logs
```

## Documentation

- [INFRASTRUCTURE.md](./INFRASTRUCTURE.md) ‚Äî Detailed infrastructure guide
- [Config Repository](./services/config-server/src/main/resources/configurations/README.md) ‚Äî Configuration docs

## Contributing

1. Fork the repository
2. Create feature branch: `git checkout -b feature/amazing-feature`
3. Commit changes: `git commit -m 'feat: add amazing feature'`
4. Push to branch: `git push origin feature/amazing-feature`
5. Open Pull Request

## License

MIT License ‚Äî see [LICENSE](LICENSE) for details

---

<div align="center">

**Built with ‚ù§Ô∏è using Spring Boot & Spring Cloud**

‚≠ê Star this repo if you find it useful!

</div>
